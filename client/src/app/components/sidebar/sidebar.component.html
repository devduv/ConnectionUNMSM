
<div id="user-card" class="col-lg-12 panel panel-default pull-left">
	<div class="avatar pull-left">
		<img src="{{ url + 'get-image-user/' + identity.image }}" *ngIf="identity.image" style="width: 100%; height: auto;" />
		<img src="assets/user.png" *ngIf="!identity.image"/>
	</div>

	<div class="name-surname pull-left">
			<a [routerLink]="['/perfil',identity._id]">@{{identity.nick}}</a>
		
		<p><a [routerLink]="['/mis-datos']" class="username">
			Editar perfil
		</a></p>
		<div class="clearfix"></div>
	</div>

	<div class="clearfix"></div>

	<span style="font-size: 17px;">{{identity.name + ' ' + identity.surname}}</span>
	<div class="stats" *ngIf="stats" align="center">
		<div>
			<div class="following-data">
			<a [routerLink]="['/siguiendo',identity._id,1]" style="color: black;">
				<span class="name-surname pull-left" style="font-size: 13px;">
					Siguiendo
				</span>
				<span class="number-stats">
					{{stats.following}}
				</span>
			</a>
		</div>

		<div class="following-data">
			<a [routerLink]="['/seguidores',identity._id,1]" style="color: black;">
				<span class="name-surname pull-left" style="font-size: 13px;">
					Seguidores
				</span>
				<span class="number-stats">
					{{stats.followed}}
				</span>
			</a>
		</div>

		<div class="following-data">
			<a [routerLink]="['/perfil',identity._id]" style="color: black;">
				<span class="name-surname pull-left" style="font-size: 13px;">
					Publicaciones
				</span>
				<span class="number-stats">
					{{stats.publications}}
				</span>
			</a>
		</div>
		</div>
	</div>
</div>

<!--formulario de publicaciones-->
<div id="new-publication" class="col-lg-4 pull-left panel panel-default">
	
	<div class="alert alert-success" *ngIf="status == 'success'">
		Publicación enviada correctamente
	</div>
	<div class="alert alert-danger" *ngIf="status == 'error'">
		Publicación no enviada 
	</div>

	<form #newPubForm="ngForm" (ngSubmit)="onSubmit(newPubForm, $event);" >
			<span>Realiza una publicación:</span>
			<div align="right">
				<textarea name="text" #text="ngModel" [(ngModel)]="publication.text" class="form-control" required style="resize: none;" maxlength="255" placeholder="¿Cómo te fue hoy?" rows="5" cols="50"></textarea>
			<label   class="btn btn-info btn-sm btn-file"  style="font-size: 16px;  margin-top: 15px; margin-bottom: 15px;	" ><i class="fa fa-photo "  style="font-size: 16px;" ></i> Sube una imagen (opcional)
			<input type="file"  id="fileUpload"  style="display: none;" placeholder="Subir imagen" (change)="fileChangeEvent($event)"  />
		    </label>
			<br/>
		<input type="submit" value="Publicar" class="btn btn-success" style="background-color: #429cae;" [disabled]="!newPubForm.form.valid" />
			</div>
	</form>
</div>